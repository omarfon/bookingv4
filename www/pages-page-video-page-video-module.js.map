{"version":3,"sources":["./src/app/pages/page-video/page-video.page.html","./src/app/pages/page-video/page-video-routing.module.ts","./src/app/pages/page-video/page-video.module.ts","./src/app/pages/page-video/page-video.page.scss","./src/app/pages/page-video/page-video.page.ts"],"names":[],"mappings":"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","file":"pages-page-video-page-video-module.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar traslucent color=\\\"transparent\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button (click)=\\\"closeSession()\\\"></ion-back-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div [id]=\\\"localCallId\\\" class=\\\"local\\\"></div>\\n\\n  <div *ngFor=\\\"let callId of remoteCalls\\\" [id]=\\\"callId\\\" class=\\\"remote\\\"></div>\\n  <div class=\\\"container-buttons\\\">\\n    <ion-row>\\n      <ion-col size=\\\"10\\\" class=\\\"datosDoctor\\\">\\n        <p class=\\\"horaInicio\\\">Doctor:</p>\\n        <p class=\\\"NombreDoctor\\\">{{nombreDoctor}}</p>\\n        <p class=\\\"horaInicio fondo\\\">{{time}}</p>\\n      </ion-col>\\n      <ion-col size=\\\"2\\\">\\n        <ion-row>\\n          <ion-col>\\n            <ion-button fill=\\\"clear\\\" color=\\\"light\\\">\\n              <ion-icon name=\\\"mic-off\\\" (click)=\\\"mute()\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n          <ion-col>\\n            <ion-button fill=\\\"clear\\\" color=\\\"light\\\">\\n              <ion-icon name=\\\"videocam\\\"></ion-icon>\\n            </ion-button>\\n          </ion-col>\\n        </ion-row>\\n      </ion-col>\\n      <ion-col size=\\\"12\\\" class=\\\"containerIconos\\\" (click)=\\\"leave()\\\">\\n        <ion-icon name=\\\"call\\\"></ion-icon>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { PageVideoPage } from './page-video.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: PageVideoPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class PageVideoPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { PageVideoPageRoutingModule } from './page-video-routing.module';\n\nimport { PageVideoPage } from './page-video.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    PageVideoPageRoutingModule\n  ],\n  declarations: [PageVideoPage]\n})\nexport class PageVideoPageModule {}\n","export default \"/* .top-video {\\n    position: absolute;\\n    bottom: 0;\\n    right: 10px;\\n    max-width: 100px;\\n    z-index: 2;\\n  } */\\nion-content {\\n  height: 100vh !important;\\n}\\n#partnert-video {\\n  position: fixed;\\n  right: 1rem;\\n  bottom: 1rem;\\n  width: 20vw;\\n  height: 20vh;\\n  border-radius: 5px;\\n  overflow: hidden;\\n  z-index: 1;\\n}\\n#my-video {\\n  position: fixed;\\n  bottom: 0;\\n  right: 10px;\\n  width: 30vw;\\n  height: 20vh;\\n  /* height: 100vh */\\n}\\n.local {\\n  position: fixed;\\n  right: 1rem;\\n  top: 1.5rem;\\n  width: 20vw;\\n  height: 20vh;\\n  border-radius: 5px;\\n  overflow: hidden;\\n  z-index: 1;\\n}\\n.remote {\\n  position: fixed;\\n  top: 0;\\n  left: 0;\\n  width: 100vw;\\n  height: 100vh;\\n}\\nion-toolbar {\\n  --ion-toolbar-background-color: transparent;\\n  --ion-toolbar-text-color: white;\\n}\\n.header-md:after {\\n  background-image: none;\\n}\\n.container-buttons {\\n  z-index: 5;\\n  position: fixed;\\n  bottom: 1.5rem;\\n  width: 100%;\\n}\\n.datosDoctor p {\\n  color: #fff;\\n  margin-left: 20px;\\n}\\n.datosDoctor .NombreDoctor {\\n  margin-top: -10px;\\n  margin-bottom: 20px;\\n  font-size: 1em;\\n  font-weight: 500;\\n  color: white;\\n}\\n.datosDoctor .horaInicio {\\n  color: rgba(255, 255, 255, 0.9);\\n  margin-top: -15px;\\n}\\n.datosDoctor .fondo {\\n  background: rgba(0, 0, 0, 0.7);\\n  width: 25%;\\n  padding: 5px;\\n  border-radius: 3px;\\n}\\n.containerIconos {\\n  width: 100%;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n}\\n.containerIconos ion-icon {\\n  background-color: red;\\n  color: #fff;\\n  font-size: 20px;\\n  padding: 20px;\\n  border-radius: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9vbWFyL3Byb3llY3Rvcy9EZXYvYm9va2luZ3Y0L3NyYy9hcHAvcGFnZXMvcGFnZS12aWRlby9wYWdlLXZpZGVvLnBhZ2Uuc2NzcyIsInNyYy9hcHAvcGFnZXMvcGFnZS12aWRlby9wYWdlLXZpZGVvLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7O0tBQUE7QUFPRTtFQUNFLHdCQUFBO0FDQ0o7QURDRTtFQUNFLGVBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7RUFDQSxnQkFBQTtFQUNBLFVBQUE7QUNFSjtBREFFO0VBQ0UsZUFBQTtFQUNBLFNBQUE7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxrQkFBQTtBQ0dKO0FEQUU7RUFDRSxlQUFBO0VBQ0EsV0FBQTtFQUNBLFdBQUE7RUFDQSxXQUFBO0VBQ0EsWUFBQTtFQUNBLGtCQUFBO0VBQ0EsZ0JBQUE7RUFDQSxVQUFBO0FDR0o7QURBRTtFQUNFLGVBQUE7RUFDQSxNQUFBO0VBQ0EsT0FBQTtFQUNBLFlBQUE7RUFDQSxhQUFBO0FDR0o7QURERTtFQUNFLDJDQUFBO0VBQ0EsK0JBQUE7QUNJSjtBREZJO0VBQ0Usc0JBQUE7QUNLTjtBREhFO0VBQ0ksVUFBQTtFQUNBLGVBQUE7RUFDQSxjQUFBO0VBQ0EsV0FBQTtBQ01OO0FESEk7RUFDRSxXQUFBO0VBQ0EsaUJBQUE7QUNNTjtBREpJO0VBQ0UsaUJBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtFQUNBLFlBQUE7QUNNTjtBREpJO0VBQ0UsK0JBQUE7RUFDQSxpQkFBQTtBQ01OO0FESkk7RUFDRSw4QkFBQTtFQUNBLFVBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUNNTjtBREhFO0VBQ0UsV0FBQTtFQUNBLGFBQUE7RUFDQSx1QkFBQTtFQUNBLG1CQUFBO0FDTUo7QURMSTtFQUNFLHFCQUFBO0VBQ0EsV0FBQTtFQUNBLGVBQUE7RUFDQSxhQUFBO0VBQ0Esa0JBQUE7QUNPTiIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL3BhZ2UtdmlkZW8vcGFnZS12aWRlby5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvKiAudG9wLXZpZGVvIHtcbiAgICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gICAgYm90dG9tOiAwO1xuICAgIHJpZ2h0OiAxMHB4O1xuICAgIG1heC13aWR0aDogMTAwcHg7XG4gICAgei1pbmRleDogMjtcbiAgfSAqL1xuICBpb24tY29udGVudHtcbiAgICBoZWlnaHQ6IDEwMHZoIWltcG9ydGFudDtcbiAgfVxuICAjcGFydG5lcnQtdmlkZW8ge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICByaWdodDogMXJlbTtcbiAgICBib3R0b206IDFyZW07XG4gICAgd2lkdGg6IDIwdnc7XG4gICAgaGVpZ2h0OiAyMHZoO1xuICAgIGJvcmRlci1yYWRpdXM6IDVweDtcbiAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAgIHotaW5kZXg6IDE7XG4gIH1cbiAgI215LXZpZGVve1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICBib3R0b206IDA7XG4gICAgcmlnaHQ6IDEwcHg7XG4gICAgd2lkdGg6IDMwdnc7XG4gICAgaGVpZ2h0OiAyMHZoO1xuICAgIC8qIGhlaWdodDogMTAwdmggKi87XG4gIH1cblxuICAubG9jYWwge1xuICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICByaWdodDogMXJlbTtcbiAgICB0b3A6IDEuNXJlbTtcbiAgICB3aWR0aDogMjB2dztcbiAgICBoZWlnaHQ6IDIwdmg7XG4gICAgYm9yZGVyLXJhZGl1czogNXB4O1xuICAgIG92ZXJmbG93OiBoaWRkZW47XG4gICAgei1pbmRleDogMTtcbiAgfVxuICBcbiAgLnJlbW90ZSB7XG4gICAgcG9zaXRpb246IGZpeGVkO1xuICAgIHRvcDogMDtcbiAgICBsZWZ0OiAwO1xuICAgIHdpZHRoOiAxMDB2dztcbiAgICBoZWlnaHQ6IDEwMHZoO1xuICB9XG4gIGlvbi10b29sYmFyIHtcbiAgICAtLWlvbi10b29sYmFyLWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAgIC0taW9uLXRvb2xiYXItdGV4dC1jb2xvcjogd2hpdGU7ICAgIFxuICAgIH1cbiAgICAuaGVhZGVyLW1kOmFmdGVye1xuICAgICAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcbiAgICB9XG4gIC5jb250YWluZXItYnV0dG9uc3tcbiAgICAgIHotaW5kZXg6NTtcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcbiAgICAgIGJvdHRvbToxLjVyZW07XG4gICAgICB3aWR0aDoxMDAlO1xuICAgIH1cbiAgLmRhdG9zRG9jdG9ye1xuICAgIHB7XG4gICAgICBjb2xvcjojZmZmO1xuICAgICAgbWFyZ2luLWxlZnQ6MjBweDtcbiAgICB9XG4gICAgLk5vbWJyZURvY3RvcntcbiAgICAgIG1hcmdpbi10b3A6LTEwcHg7XG4gICAgICBtYXJnaW4tYm90dG9tOjIwcHg7XG4gICAgICBmb250LXNpemU6MWVtO1xuICAgICAgZm9udC13ZWlnaHQ6IDUwMDtcbiAgICAgIGNvbG9yOiByZ2JhKCRjb2xvcjogI2ZmZiwgJGFscGhhOiAxKTtcbiAgICB9XG4gICAgLmhvcmFJbmljaW97XG4gICAgICBjb2xvcjpyZ2JhKCRjb2xvcjogI2ZmZiwgJGFscGhhOiAwLjkpO1xuICAgICAgbWFyZ2luLXRvcDotMTVweDtcbiAgICB9XG4gICAgLmZvbmRve1xuICAgICAgYmFja2dyb3VuZDogcmdiYSgkY29sb3I6ICMwMDAwMDAsICRhbHBoYTogMC43KTtcbiAgICAgIHdpZHRoOiAyNSU7XG4gICAgICBwYWRkaW5nOiA1cHg7XG4gICAgICBib3JkZXItcmFkaXVzOiAzcHg7XG4gICAgfVxuICB9XG4gIC5jb250YWluZXJJY29ub3N7XG4gICAgd2lkdGg6MTAwJTtcbiAgICBkaXNwbGF5OiBmbGV4O1xuICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xuICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG4gICAgaW9uLWljb257XG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOnJlZDtcbiAgICAgIGNvbG9yOiNmZmY7XG4gICAgICBmb250LXNpemU6MjBweDtcbiAgICAgIHBhZGRpbmc6MjBweDtcbiAgICAgIGJvcmRlci1yYWRpdXM6NTAlO1xuICAgIH1cbiAgfVxuXG4gICIsIi8qIC50b3AtdmlkZW8ge1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICBib3R0b206IDA7XG4gICAgcmlnaHQ6IDEwcHg7XG4gICAgbWF4LXdpZHRoOiAxMDBweDtcbiAgICB6LWluZGV4OiAyO1xuICB9ICovXG5pb24tY29udGVudCB7XG4gIGhlaWdodDogMTAwdmggIWltcG9ydGFudDtcbn1cblxuI3BhcnRuZXJ0LXZpZGVvIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICByaWdodDogMXJlbTtcbiAgYm90dG9tOiAxcmVtO1xuICB3aWR0aDogMjB2dztcbiAgaGVpZ2h0OiAyMHZoO1xuICBib3JkZXItcmFkaXVzOiA1cHg7XG4gIG92ZXJmbG93OiBoaWRkZW47XG4gIHotaW5kZXg6IDE7XG59XG5cbiNteS12aWRlbyB7XG4gIHBvc2l0aW9uOiBmaXhlZDtcbiAgYm90dG9tOiAwO1xuICByaWdodDogMTBweDtcbiAgd2lkdGg6IDMwdnc7XG4gIGhlaWdodDogMjB2aDtcbiAgLyogaGVpZ2h0OiAxMDB2aCAqL1xufVxuXG4ubG9jYWwge1xuICBwb3NpdGlvbjogZml4ZWQ7XG4gIHJpZ2h0OiAxcmVtO1xuICB0b3A6IDEuNXJlbTtcbiAgd2lkdGg6IDIwdnc7XG4gIGhlaWdodDogMjB2aDtcbiAgYm9yZGVyLXJhZGl1czogNXB4O1xuICBvdmVyZmxvdzogaGlkZGVuO1xuICB6LWluZGV4OiAxO1xufVxuXG4ucmVtb3RlIHtcbiAgcG9zaXRpb246IGZpeGVkO1xuICB0b3A6IDA7XG4gIGxlZnQ6IDA7XG4gIHdpZHRoOiAxMDB2dztcbiAgaGVpZ2h0OiAxMDB2aDtcbn1cblxuaW9uLXRvb2xiYXIge1xuICAtLWlvbi10b29sYmFyLWJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xuICAtLWlvbi10b29sYmFyLXRleHQtY29sb3I6IHdoaXRlO1xufVxuXG4uaGVhZGVyLW1kOmFmdGVyIHtcbiAgYmFja2dyb3VuZC1pbWFnZTogbm9uZTtcbn1cblxuLmNvbnRhaW5lci1idXR0b25zIHtcbiAgei1pbmRleDogNTtcbiAgcG9zaXRpb246IGZpeGVkO1xuICBib3R0b206IDEuNXJlbTtcbiAgd2lkdGg6IDEwMCU7XG59XG5cbi5kYXRvc0RvY3RvciBwIHtcbiAgY29sb3I6ICNmZmY7XG4gIG1hcmdpbi1sZWZ0OiAyMHB4O1xufVxuLmRhdG9zRG9jdG9yIC5Ob21icmVEb2N0b3Ige1xuICBtYXJnaW4tdG9wOiAtMTBweDtcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcbiAgZm9udC1zaXplOiAxZW07XG4gIGZvbnQtd2VpZ2h0OiA1MDA7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cbi5kYXRvc0RvY3RvciAuaG9yYUluaWNpbyB7XG4gIGNvbG9yOiByZ2JhKDI1NSwgMjU1LCAyNTUsIDAuOSk7XG4gIG1hcmdpbi10b3A6IC0xNXB4O1xufVxuLmRhdG9zRG9jdG9yIC5mb25kbyB7XG4gIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC43KTtcbiAgd2lkdGg6IDI1JTtcbiAgcGFkZGluZzogNXB4O1xuICBib3JkZXItcmFkaXVzOiAzcHg7XG59XG5cbi5jb250YWluZXJJY29ub3Mge1xuICB3aWR0aDogMTAwJTtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4uY29udGFpbmVySWNvbm9zIGlvbi1pY29uIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmVkO1xuICBjb2xvcjogI2ZmZjtcbiAgZm9udC1zaXplOiAyMHB4O1xuICBwYWRkaW5nOiAyMHB4O1xuICBib3JkZXItcmFkaXVzOiA1MCU7XG59Il19 */\";","import { Component, OnInit, Input, ElementRef } from '@angular/core';\nimport { NgxAgoraService, Stream, AgoraClient, ClientEvent, StreamEvent } from 'ngx-agora';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { AppoinmentService } from 'src/app/services/appoinment.service';\nimport { NavController } from '@ionic/angular';\nimport * as moment from 'moment';\nimport { PermissionsVideoService } from 'src/app/services/permissions-video.service';\n\n\n@Component({\n  selector: 'app-page-video',\n  templateUrl: './page-video.page.html',\n  styleUrls: ['./page-video.page.scss'],\n})\nexport class PageVideoPage implements OnInit {\n  @Input('date') date\n  topVideoFrame = 'partner-video';\n  userId: string;\n  partnerId: string;\n  myEl: HTMLMediaElement;\n  partnerEl: HTMLMediaElement;\n  hora;\n\n  title = 'angular-video';\n  public localCallId;\n  remoteCalls: string[] = [];\n  public channel;\n  public token;\n\n  public client: AgoraClient;\n  public localStream: Stream;\n  public uid;\n  public dates;\n  public nombreDoctor;\n  public idDoctor;\n  public time;\n\n  public dataPermissions;\n\n  constructor(\n    public elRef: ElementRef,\n    public router: Router,\n    public ngxAgoraService: NgxAgoraService,\n    public activateRoute: ActivatedRoute,\n    public appointmetSrv: AppoinmentService,\n    public nav: NavController,\n    public routes: ActivatedRoute,\n    public permissionSrv: PermissionsVideoService) {\n\n    const data = this.routes.snapshot.paramMap.get('data');\n    this.dataPermissions = JSON.parse(data);\n    console.log('dataPermissions:', this.dataPermissions);\n    if (data) {\n      this.getPermissionVideo();\n    }\n  }\n\n  ngOnInit() {\n    this.crhono();\n    this.nombreDoctor = localStorage.getItem('doctor');\n    this.idDoctor = localStorage.getItem('idDoctor')\n  }\n\n  getPermissionVideo() {\n    let appoinmentid = this.dataPermissions.appointmentId;\n    let patientId = this.dataPermissions.patientId;\n    if (this.dataPermissions.familiar === true) {\n      this.permissionSrv.getAuthoParent(patientId, appoinmentid).subscribe(async data => {\n        console.log('data', data);\n        this.channel = data.channel;\n        this.token = data.token;\n        this.localCallId = data.uid.toString();\n        this.uid = data.uid;\n        this.initVideo();\n      });\n    } else {\n      this.permissionSrv.getPermissionsVideo(appoinmentid).subscribe(data => {\n        console.log('data', data);\n        this.channel = data.channel;\n        this.token = data.token;\n        this.localCallId = data.uid.toString();\n        this.uid = data.uid;\n        this.initVideo();\n      }, err => {\n        console.log(err)\n      })\n    }\n  }\n\n  initVideo() {\n    this.client = this.ngxAgoraService.createClient({ mode: 'rtc', codec: 'h264' });\n    this.assignClientHandlers();\n\n    this.localStream = this.ngxAgoraService.createStream({ streamID: this.uid, audio: true, video: true, screen: false });\n    this.assignLocalStreamHandlers();\n    this.initLocalStream(() => this.join(uid => this.publish(), error => console.error(error)));\n    this.localStream.setVideoProfile('720p_3');\n  }\n\n  crhono() {\n    setInterval(() => {\n      this.updateTime();\n    }, 1000)\n  }\n\n  updateTime() {\n    this.time = moment().format('hh:mm:ss');\n  }\n\n\n  join(onSuccess?: (uid: number | string) => void, onFailure?: (error: Error) => void): void {\n    this.client.join(this.token, this.channel, this.uid, onSuccess, onFailure);\n  }\n\n  /**\n   * Attempts to upload the created local A/V stream to a joined chat room.\n   */\n  publish(): void {\n    this.client.publish(this.localStream, err => console.log('Publish local stream error: ' + err));\n  }\n\n  private assignLocalStreamHandlers(): void {\n    this.localStream.on(StreamEvent.MediaAccessAllowed, () => {\n      console.log('accessAllowed');\n    });\n\n    // The user has denied access to the camera and mic.\n    this.localStream.on(StreamEvent.MediaAccessDenied, () => {\n      console.log('accessDenied');\n    });\n  }\n\n  private initLocalStream(onSuccess?: () => any): void {\n    this.localStream.init(\n      () => {\n        // The user has granted access to the camera and mic.\n        console.log(this.localCallId);\n        this.localStream.play(this.localCallId);\n\n        if (onSuccess) {\n          onSuccess();\n        }\n      },\n      err => console.error('getUserMedia failed', err)\n    );\n  }\n\n  private assignClientHandlers(): void {\n    this.client.on(ClientEvent.LocalStreamPublished, evt => {\n      console.log('Publish local stream successfully');\n    });\n\n    this.client.on(ClientEvent.Error, error => {\n      console.log('Got error msg:', error.reason);\n      if (error.reason === 'DYNAMIC_KEY_TIMEOUT') {\n        this.client.renewChannelKey(\n          '',\n          () => console.log('Renewed the channel key successfully.'),\n          renewError => console.error('Renew channel key failed: ', renewError)\n        );\n      }\n    });\n\n    this.client.on(ClientEvent.RemoteStreamAdded, evt => {\n      const stream = evt.stream as Stream;\n      this.client.subscribe(stream, { audio: true, video: true }, err => {\n        console.log('Subscribe stream failed', err);\n      });\n    });\n\n    this.client.on(ClientEvent.RemoteStreamSubscribed, evt => {\n      const stream = evt.stream as Stream;\n      const id = this.getRemoteId(stream);\n      if (!this.remoteCalls.length) {\n        this.remoteCalls.push(id);\n        setTimeout(() => stream.play(id), 1000);\n      }\n    });\n\n    this.client.on(ClientEvent.RemoteStreamRemoved, evt => {\n      const stream = evt.stream as Stream;\n      if (stream) {\n        stream.stop();\n        this.remoteCalls = [];\n        console.log(`Remote stream is removed ${stream.getId()}`);\n      }\n    });\n\n    this.client.on(ClientEvent.PeerLeave, evt => {\n      const stream = evt.stream as Stream;\n      if (stream) {\n        stream.stop();\n        this.remoteCalls = this.remoteCalls.filter(call => call !== `${this.getRemoteId(stream)}`);\n        console.log(`${evt.uid} left from this channel`);\n      }\n    });\n  }\n\n  private getRemoteId(stream: Stream): string {\n    return `agora_remote-${stream.getId()}`;\n  }\n\n  closePage() {\n    this.nav.back();\n    this.client.leave(() => {\n      console.log(\"Leavel channel successfully\");\n    }, (err) => {\n      console.log(\"Leave channel failed\");\n    });\n    this.localStream.close();\n  }\n\n  leave() {\n    this.client.leave(() => {\n      console.log(\"Leavel channel successfully\");\n    }, (err) => {\n      console.log(\"Leave channel failed\");\n    });\n    this.router.navigate(['/home']);\n    this.localStream.close();\n  }\n\n  mute() {\n    this.client.on(ClientEvent.RemoveVideoMuted, evt => {\n      console.log('video desactivado');\n    })\n\n    this.client.on(ClientEvent.PeerLeave, () => {\n      console.log('eliminar a otro usuario');\n    })\n  };\n\n\n  /*  dejar(){\n \n     this.client.on('peer-leave', (evt) => {\n       const stream = evt.stream;\n       if (stream) {\n         stream.stop();\n         this.remoteCalls = this.remoteCalls.filter(call => call === `#agora_remote${stream.getId()}`);\n         console.log(`${evt.uid} left from this channel`);\n       }\n     });\n   }*/\n  /*   remove(){\n      this.ngxAgoraService.client.on( \"stream-removed\" () ,(evt) => {\n        const stream = evt.stream;\n        stream.stop();\n        this.remoteCalls = this.remoteCalls.filter(call => call === `#agora_remote${stream.getId()}`);\n        console.log(`Remote stream is removed ${stream.getId()}`);\n      });\n    }  */\n\n  closeSession() {\n    this.localStream.on(StreamEvent.MediaAccessDenied, () => {\n      console.log('access Denied');\n    });\n    this.client.leave();\n    this.localStream.stop();\n    this.client.off;\n\n    console.log('cerrar localStream');\n  }\n\n}\n"],"sourceRoot":"webpack:///"}